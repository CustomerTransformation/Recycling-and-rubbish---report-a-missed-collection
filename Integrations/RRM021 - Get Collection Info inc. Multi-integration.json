[
    {
        "ID": "58f87121b4d34",
        "Name": "RRM021 - Get Collection Info inc. Multi",
        "Type": "HTTP",
        "LIM_id": "3f07ecf4-0dfa-11e2-b0b9-12313b03ed59",
        "Editable": true,
        "LIM_name": "LIM14",
        "Category": "RubbishRecycling",
        "data_type": "integration-lookup",
        "allow_offline": 0,
        "Output_template": "{\"method\":\"GET\",\"url\":\"https://maps.portsmouth.gov.uk/getdata.aspx?RequestType=LocalInfo&ms=Portsmouth/Web_Team&format=JSON&group=Refuse_and_Recycling|Waste_collection&uid={col_uprn}\",\"show_headers\":\"no\",\"responseType\":\"JSON\",\"strip_namespaces\":\"1\",\"path_to_values\":\"TransResults/Collection\",\"fields\":\"\",\"xslt_stylesheet\":\"<?xml version=\\\"1.0\\\" encoding=\\\"ISO-8859-1\\\"?>\\n<xsl:stylesheet version=\\\"1.0\\\" xmlns:xsl=\\\"http://www.w3.org/1999/XSL/Transform\\\">\\n<xsl:template match=\\\"Root/Results/Waste_collection\\\">\\n  <body>\\n\\t<xsl:if test=\\\"uprn\\\">\\n\\t\\t<TransResults>\\n\\t\\t\\t<Collection>\\n\\t\\t\\t\\t<intRun>complete</intRun>\\n\\t\\t\\t\\t<uprn><xsl:value-of select=\\\"uprn\\\"/></uprn>\\n\\t\\t\\t\\t<Refuse><xsl:value-of select=\\\"Refuse______Collection\\\"/></Refuse>\\n\\t\\t\\t\\t<RefMon>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Mo')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RefMon>\\n\\t\\t\\t\\t<RefTue>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Tu')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RefTue>\\n\\t\\t\\t\\t<RefWed>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'We')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RefWed>\\n\\t\\t\\t\\t<RefThu>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Th')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RefThu>\\n\\t\\t\\t\\t<RefFri>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Fr')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RefFri>\\n\\t\\t\\t\\t<RefSat>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Sa')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RefSat>\\n\\t\\t\\t\\t<RefSun>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Su')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RefSun>\\n\\t\\t\\t\\t<RefuseCrew><xsl:value-of select=\\\"Refuse___________Round\\\"/></RefuseCrew>\\n\\t\\t\\t\\t<Recycling><xsl:value-of select=\\\"Recycling________Collection\\\"/></Recycling>\\n\\t\\t\\t\\t<RecMon>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Mo')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RecMon>\\n\\t\\t\\t\\t<RecTue>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Tu')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RecTue>\\n\\t\\t\\t\\t<RecWed>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'We')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RecWed>\\n\\t\\t\\t\\t<RecThu>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Th')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RecThu>\\n\\t\\t\\t\\t<RecFri>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Fr')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RecFri>\\n\\t\\t\\t\\t<RecSat>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Sa')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RecSat>\\n\\t\\t\\t\\t<RecSun>\\n\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Su')\\\">\\n\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t</RecSun>\\n\\t\\t\\t\\t<RecyclingWeek><xsl:value-of select=\\\"Recycling__________Week\\\"/></RecyclingWeek>\\n\\t\\t\\t\\t<RecyclingCrew><xsl:value-of select=\\\"Recycling____________Round\\\"/></RecyclingCrew>\\n\\t\\t\\t</Collection>\\n\\t\\t</TransResults>\\n\\t</xsl:if>\\n\\t<xsl:if test=\\\"Info\\\">\\n\\t\\t<TransResults>\\n\\t\\t\\t<Collection>\\n\\t\\t\\t\\t<intRun>no results</intRun>\\n\\t\\t\\t</Collection>\\n\\t\\t</TransResults>\\n\\t</xsl:if>\\n\\t<xsl:variable name=\\\"pos\\\">\\n\\t\\t<xsl:for-each select=\\\"ArrayNode\\\">\\n\\t\\t\\t<xsl:if test=\\\"./uprn != {col_uprn}\\\">\\n\\t\\t\\t\\t<xsl:value-of select=\\\"'a'\\\" />\\n\\t\\t\\t</xsl:if>\\n\\t\\t\\t<xsl:if test=\\\"./uprn = {col_uprn}\\\">\\n\\t\\t\\t\\t<xsl:value-of select=\\\"'b'\\\" />\\n\\t\\t\\t</xsl:if>\\n\\t\\t</xsl:for-each>\\n\\t</xsl:variable>\\n\\t<xsl:variable name=\\\"posfirst\\\" select=\\\"string-length(substring-before($pos, 'b')) + 1\\\"/>\\n\\t<xsl:for-each select=\\\"ArrayNode\\\">\\n\\t\\t<xsl:if test=\\\"./uprn = {col_uprn} and position(  ) = $posfirst\\\">\\n\\t\\t\\t<TransResults>\\n\\t\\t\\t\\t<Collection>\\n\\t\\t\\t\\t\\t<intRun>complete</intRun>\\n\\t\\t\\t\\t\\t<uprn><xsl:value-of select=\\\"uprn\\\"/></uprn>\\n\\t\\t\\t\\t\\t<Refuse><xsl:value-of select=\\\"Refuse______Collection\\\"/></Refuse>\\n\\t\\t\\t\\t\\t<RefMon>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Mo')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RefMon>\\n\\t\\t\\t\\t\\t<RefTue>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Tu')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RefTue>\\n\\t\\t\\t\\t\\t<RefWed>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'We')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RefWed>\\n\\t\\t\\t\\t\\t<RefThu>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Th')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RefThu>\\n\\t\\t\\t\\t\\t<RefFri>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Fr')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RefFri>\\n\\t\\t\\t\\t\\t<RefSat>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Sa')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RefSat>\\n\\t\\t\\t\\t\\t<RefSun>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Refuse_______Collection_______Day, 'Su')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RefSun>\\n\\t\\t\\t\\t\\t<RefuseCrew><xsl:value-of select=\\\"Refuse___________Round\\\"/></RefuseCrew>\\n\\t\\t\\t\\t\\t<Recycling><xsl:value-of select=\\\"Recycling________Collection\\\"/></Recycling>\\n\\t\\t\\t\\t\\t<RecMon>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Mo')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RecMon>\\n\\t\\t\\t\\t\\t<RecTue>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Tu')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RecTue>\\n\\t\\t\\t\\t\\t<RecWed>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'We')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RecWed>\\n\\t\\t\\t\\t\\t<RecThu>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Th')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RecThu>\\n\\t\\t\\t\\t\\t<RecFri>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Fr')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RecFri>\\n\\t\\t\\t\\t\\t<RecSat>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Sa')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RecSat>\\n\\t\\t\\t\\t\\t<RecSun>\\n\\t\\t\\t\\t\\t\\t<xsl:if test=\\\"contains(Recycling_________Day, 'Su')\\\">\\n\\t\\t\\t\\t\\t\\t\\t1\\n\\t\\t\\t\\t\\t\\t</xsl:if>\\n\\t\\t\\t\\t\\t</RecSun>\\n\\t\\t\\t\\t\\t<RecyclingWeek><xsl:value-of select=\\\"Recycling__________Week\\\"/></RecyclingWeek>\\n\\t\\t\\t\\t\\t<RecyclingCrew><xsl:value-of select=\\\"Recycling____________Round\\\"/></RecyclingCrew>\\n\\t\\t\\t\\t</Collection>\\n\\t\\t\\t</TransResults>\\n\\t\\t</xsl:if>\\n\\t</xsl:for-each>\\n  </body>\\n</xsl:template>\\n</xsl:stylesheet>\",\"results_page_columns\":\"\",\"secure_fields_db_http\":\"\"}",
        "log_only_on_error": 1,
        "error_notification": "{\"LIM_id\":\"3f07ecf4-0dfa-11e2-b0b9-12313b03ed59\",\"LIM_name\":\"LIM14\",\"recipients_to\":\"isbat1@portsmouthcc.gov.uk\"}"
    }
]